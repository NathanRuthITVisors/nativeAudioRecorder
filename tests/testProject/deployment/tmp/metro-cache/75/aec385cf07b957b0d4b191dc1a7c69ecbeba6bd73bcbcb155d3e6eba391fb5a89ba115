{"dependencies":[{"name":"../utils/code-push-error","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var t=r(d[0]),n=(function(){function t(){}return t.DeploymentSucceeded=\"DeploymentSucceeded\",t.DeploymentFailed=\"DeploymentFailed\",t})();e.AcquisitionStatus=n;var o=(function(){function o(t,n){this._publicPrefixUrl=\"v0.1/public/codepush/\",this._httpRequester=t,this._serverUrl=n.serverUrl,\"/\"!==this._serverUrl.slice(-1)&&(this._serverUrl+=\"/\"),this._appVersion=n.appVersion,this._clientUniqueId=n.clientUniqueId,this._deploymentKey=n.deploymentKey,this._ignoreAppVersion=n.ignoreAppVersion}return o.prototype.queryUpdateWithCurrentPackage=function(n,o){var l=this;if(!n||!n.appVersion)throw new t.CodePushPackageError(\"Calling common acquisition SDK with incorrect package\");var u={deployment_key:this._deploymentKey,app_version:n.appVersion,package_hash:n.packageHash,is_companion:this._ignoreAppVersion,label:n.label,client_unique_id:this._clientUniqueId},p=this._serverUrl+this._publicPrefixUrl+\"update_check?\"+s(u);this._httpRequester.request(0,p,function(n,s){if(n)o(n,null);else{if(200!==s.statusCode){var u=void 0;return u=0===s.statusCode?\"Couldn't send request to \"+p+\", xhr.statusCode = 0 was returned. One of the possible reasons for that might be connection problems. Please, check your internet connection.\":s.statusCode+\": \"+s.body,void o(new t.CodePushHttpError(u),null)}try{var c=JSON.parse(s.body).update_info}catch(n){return void o(n,null)}if(c)if(c.update_app_version)o(null,{updateAppVersion:!0,appVersion:c.target_binary_range});else if(c.is_available){var _={deploymentKey:l._deploymentKey,description:c.description,label:c.label,appVersion:c.target_binary_range,isMandatory:c.is_mandatory,packageHash:c.package_hash,packageSize:c.package_size,downloadUrl:c.download_url};o(null,_)}else o(null,null);else o(n,null)}})},o.prototype.reportStatusDeploy=function(o,s,l,u,p){var c=this._serverUrl+this._publicPrefixUrl+\"report_status/deploy\",_={app_version:this._appVersion,deployment_key:this._deploymentKey};if(this._clientUniqueId&&(_.client_unique_id=this._clientUniqueId),o)switch(_.label=o.label,_.app_version=o.appVersion,s){case n.DeploymentSucceeded:case n.DeploymentFailed:_.status=s;break;default:return void(p&&p(s?new t.CodePushDeployStatusError(\"Unrecognized status \\\"\"+s+\"\\\".\"):new t.CodePushDeployStatusError(\"Missing status argument.\"),null))}l&&(_.previous_label_or_app_version=l),u&&(_.previous_deployment_key=u),p=\"function\"==typeof arguments[arguments.length-1]&&arguments[arguments.length-1],this._httpRequester.request(2,c,JSON.stringify(_),function(n,o){if(p){if(n)return void p(n,null);if(200!==o.statusCode)return void p(new t.CodePushHttpError(o.statusCode+\": \"+o.body),null);p(null,null)}})},o.prototype.reportStatusDownload=function(n,o){var s=this._serverUrl+this._publicPrefixUrl+\"report_status/download\",l={client_unique_id:this._clientUniqueId,deployment_key:this._deploymentKey,label:n.label};this._httpRequester.request(2,s,JSON.stringify(l),function(n,s){if(o){if(n)return void o(n,null);if(200!==s.statusCode)return void o(new t.CodePushHttpError(s.statusCode+\": \"+s.body),null);o(null,null)}})},o})();function s(t){var n=\"\",o=!0;for(var s in t)if(t.hasOwnProperty(s)){var l=t[s];null!==l&&void 0!==l&&(o||(n+=\"&\"),n+=encodeURIComponent(s)+\"=\",n+=encodeURIComponent(l)),o=!1}return n}e.AcquisitionManager=o});","lineCount":1,"map":[[1,28,1,0],[1,41,2,0,"Object"],[1,48,2,7,"defineProperty"],[1,63,2,22,"exports"],[1,65,2,31],[1,79,2,47,"value"],[1,86,2,54],[1,90,3,0],[1,94,3,4,"code_push_error_1"],[1,96,3,24,"require"],[1,98,3,31,"d"],[1,100,3,31],[1,104,4,4,"AcquisitionStatus"],[1,107,4,39],[1,118,5,4],[1,127,5,13,"AcquisitionStatus"],[1,132,9,4],[1,139,7,4,"AcquisitionStatus"],[1,141,7,22,"DeploymentSucceeded"],[1,161,7,44],[1,183,8,4,"AcquisitionStatus"],[1,185,8,22,"DeploymentFailed"],[1,202,8,41],[1,221,9,11,"AcquisitionStatus"],[1,224,4,39],[1,227,11,0,"exports"],[1,229,11,8,"AcquisitionStatus"],[1,247,11,28,"AcquisitionStatus"],[1,249,12,0],[1,253,12,4,"AcquisitionManager"],[1,256,12,40],[1,267,13,4],[1,276,13,13,"AcquisitionManager"],[1,278,13,32,"httpRequester"],[1,280,13,47,"configuration"],[1,283,14,8,"this"],[1,288,14,13,"_publicPrefixUrl"],[1,305,14,32],[1,329,15,8,"this"],[1,334,15,13,"_httpRequester"],[1,349,15,30,"httpRequester"],[1,351,16,8,"this"],[1,356,16,13,"_serverUrl"],[1,367,16,26,"configuration"],[1,369,16,40,"serverUrl"],[1,379,17,42],[1,385,17,12,"this"],[1,390,17,17,"_serverUrl"],[1,401,17,28,"slice"],[1,408,17,12],[1,413,18,12,"this"],[1,418,18,17,"_serverUrl"],[1,430,18,31],[1,435,20,8,"this"],[1,440,20,13,"_appVersion"],[1,452,20,27,"configuration"],[1,454,20,41,"appVersion"],[1,465,21,8,"this"],[1,470,21,13,"_clientUniqueId"],[1,486,21,31,"configuration"],[1,488,21,45,"clientUniqueId"],[1,503,22,8,"this"],[1,508,22,13,"_deploymentKey"],[1,523,22,30,"configuration"],[1,525,22,44,"deploymentKey"],[1,539,23,8,"this"],[1,544,23,13,"_ignoreAppVersion"],[1,562,23,33,"configuration"],[1,564,23,47,"ignoreAppVersion"],[1,581,159,4],[1,588,25,4,"AcquisitionManager"],[1,590,25,23,"prototype"],[1,600,25,33,"queryUpdateWithCurrentPackage"],[1,630,25,65],[1,639,25,75,"currentPackage"],[1,641,25,91,"callback"],[1,644,26,8],[1,648,26,12,"_this"],[1,650,26,20,"this"],[1,655,27,8],[1,659,27,13,"currentPackage"],[1,663,27,32,"currentPackage"],[1,665,27,47,"appVersion"],[1,676,28,12],[1,682,28,18],[1,686,28,22,"code_push_error_1"],[1,688,28,40,"CodePushPackageError"],[1,709,28,61],[1,766,30,8],[1,770,30,12,"updateRequest"],[1,773,31,12,"deployment_key"],[1,788,31,28,"this"],[1,793,31,33,"_deploymentKey"],[1,808,32,12,"app_version"],[1,820,32,25,"currentPackage"],[1,822,32,40,"appVersion"],[1,833,33,12,"package_hash"],[1,846,33,26,"currentPackage"],[1,848,33,41,"packageHash"],[1,860,34,12,"is_companion"],[1,873,34,26,"this"],[1,878,34,31,"_ignoreAppVersion"],[1,896,35,12,"label"],[1,902,35,19,"currentPackage"],[1,904,35,34,"label"],[1,910,36,12,"client_unique_id"],[1,927,36,30,"this"],[1,932,36,35,"_clientUniqueId"],[1,949,38,12,"requestUrl"],[1,951,38,25,"this"],[1,956,38,30,"_serverUrl"],[1,967,38,43,"this"],[1,972,38,48,"_publicPrefixUrl"],[1,989,38,67],[1,1005,38,85,"queryStringify"],[1,1007,38,100,"updateRequest"],[1,1010,39,8,"this"],[1,1015,39,13,"_httpRequester"],[1,1030,39,28,"request"],[1,1038,39,36],[1,1040,39,49,"requestUrl"],[1,1042,39,61],[1,1051,39,71,"error"],[1,1053,39,78,"response"],[1,1056,40,12],[1,1059,40,16,"error"],[1,1061,41,16,"callback"],[1,1063,41,25,"error"],[1,1065,41,51],[1,1075,40,12],[1,1076,44,12],[1,1079,44,40],[1,1085,44,16,"response"],[1,1087,44,25,"statusCode"],[1,1098,44,45],[1,1099,45,16],[1,1103,45,20,"errorMessage"],[1,1110,45,32,"undefined"],[1,1112,53,16],[1,1119,47,20,"errorMessage"],[1,1121,46,44],[1,1125,46,20,"response"],[1,1127,46,29,"statusCode"],[1,1138,47,35],[1,1166,47,65,"requestUrl"],[1,1168,47,78],[1,1312,50,35,"response"],[1,1314,50,44,"statusCode"],[1,1325,50,57],[1,1330,50,64,"response"],[1,1332,50,73,"body"],[1,1342,52,16,"callback"],[1,1344,52,25],[1,1348,52,29,"code_push_error_1"],[1,1350,52,47,"CodePushHttpError"],[1,1368,52,65,"errorMessage"],[1,1371,52,99],[1,1377,55,12],[1,1381,56,16],[1,1385,57,20,"updateInfo"],[1,1387,56,37,"JSON"],[1,1392,56,42,"parse"],[1,1398,56,48,"response"],[1,1400,56,57,"body"],[1,1406,57,48,"update_info"],[1,1418,59,12],[1,1424,59,19,"error"],[1,1427,61,16],[1,1439,60,16,"callback"],[1,1441,60,25,"error"],[1,1443,60,51],[1,1449,63,12],[1,1452,63,17,"updateInfo"],[1,1454,67,17],[1,1457,67,21,"updateInfo"],[1,1459,67,32,"update_app_version"],[1,1478,68,16,"callback"],[1,1480,68,36],[1,1486,68,44,"updateAppVersion"],[1,1504,68,62],[1,1506,68,68,"appVersion"],[1,1517,68,80,"updateInfo"],[1,1519,68,91,"target_binary_range"],[1,1546,71,17],[1,1549,71,22,"updateInfo"],[1,1551,71,33,"is_available"],[1,1564,71,17],[1,1565,75,12],[1,1569,75,16,"remotePackage"],[1,1572,76,16,"deploymentKey"],[1,1586,76,31,"_this"],[1,1588,76,37,"_deploymentKey"],[1,1603,77,16,"description"],[1,1615,77,29,"updateInfo"],[1,1617,77,40,"description"],[1,1629,78,16,"label"],[1,1635,78,23,"updateInfo"],[1,1637,78,34,"label"],[1,1643,79,16,"appVersion"],[1,1654,79,28,"updateInfo"],[1,1656,79,39,"target_binary_range"],[1,1676,80,16,"isMandatory"],[1,1688,80,29,"updateInfo"],[1,1690,80,40,"is_mandatory"],[1,1703,81,16,"packageHash"],[1,1715,81,29,"updateInfo"],[1,1717,81,40,"package_hash"],[1,1730,82,16,"packageSize"],[1,1742,82,29,"updateInfo"],[1,1744,82,40,"package_size"],[1,1757,83,16,"downloadUrl"],[1,1769,83,29,"updateInfo"],[1,1771,83,40,"download_url"],[1,1785,85,12,"callback"],[1,1787,85,32],[1,1792,85,38,"remotePackage"],[1,1800,72,16,"callback"],[1,1802,72,36],[1,1807,72,61],[1,1818,64,16,"callback"],[1,1820,64,25,"error"],[1,1822,64,51],[1,1832,88,4,"AcquisitionManager"],[1,1834,88,23,"prototype"],[1,1844,88,33,"reportStatusDeploy"],[1,1863,88,54],[1,1872,88,64,"deployedPackage"],[1,1874,88,81,"status"],[1,1876,88,89,"previousLabelOrAppVersion"],[1,1878,88,116,"previousDeploymentKey"],[1,1880,88,139,"callback"],[1,1883,89,8],[1,1887,89,12,"url"],[1,1889,89,18,"this"],[1,1894,89,23,"_serverUrl"],[1,1905,89,36,"this"],[1,1910,89,41,"_publicPrefixUrl"],[1,1927,89,60],[1,1950,90,12,"body"],[1,1953,91,12,"app_version"],[1,1965,91,25,"this"],[1,1970,91,30,"_appVersion"],[1,1982,92,12,"deployment_key"],[1,1997,92,28,"this"],[1,2002,92,33,"_deploymentKey"],[1,2018,97,8],[1,2021,94,12,"this"],[1,2026,94,17,"_clientUniqueId"],[1,2044,95,12,"body"],[1,2046,95,17,"client_unique_id"],[1,2063,95,36,"this"],[1,2068,95,41,"_clientUniqueId"],[1,2085,97,12,"deployedPackage"],[1,2087,100,12],[1,2094,98,12,"body"],[1,2096,98,17,"label"],[1,2102,98,25,"deployedPackage"],[1,2104,98,41,"label"],[1,2110,99,12,"body"],[1,2112,99,17,"app_version"],[1,2124,99,31,"deployedPackage"],[1,2126,99,47,"appVersion"],[1,2137,100,20,"status"],[1,2140,101,16],[1,2145,101,21,"AcquisitionStatus"],[1,2147,101,39,"DeploymentSucceeded"],[1,2167,102,16],[1,2172,102,21,"AcquisitionStatus"],[1,2174,102,39,"DeploymentFailed"],[1,2191,103,20,"body"],[1,2193,103,25,"status"],[1,2200,103,34,"status"],[1,2202,104,20],[1,2208,105,16],[1,2216,114,20],[1,2228,106,24,"callback"],[1,2231,111,28,"callback"],[1,2233,107,29,"status"],[1,2235,111,37],[1,2239,111,41,"code_push_error_1"],[1,2241,111,59,"CodePushDeployStatusError"],[1,2267,111,85],[1,2292,111,112,"status"],[1,2294,111,121],[1,2301,108,37],[1,2305,108,41,"code_push_error_1"],[1,2307,108,59,"CodePushDeployStatusError"],[1,2333,108,85],[1,2361,111,142],[1,2368,117,12,"previousLabelOrAppVersion"],[1,2372,118,12,"body"],[1,2374,118,17,"previous_label_or_app_version"],[1,2404,118,49,"previousLabelOrAppVersion"],[1,2407,120,12,"previousDeploymentKey"],[1,2411,121,12,"body"],[1,2413,121,17,"previous_deployment_key"],[1,2437,121,43,"previousDeploymentKey"],[1,2440,123,8,"callback"],[1,2442,123,62],[1,2461,123,26,"arguments"],[1,2471,123,36,"arguments"],[1,2481,123,46,"length"],[1,2488,123,55],[1,2492,123,76,"arguments"],[1,2502,123,86,"arguments"],[1,2512,123,96,"length"],[1,2519,123,105],[1,2522,124,8,"this"],[1,2527,124,13,"_httpRequester"],[1,2542,124,28,"request"],[1,2550,124,36],[1,2552,124,50,"url"],[1,2554,124,55,"JSON"],[1,2559,124,60,"stringify"],[1,2569,124,70,"body"],[1,2572,124,77],[1,2581,124,87,"error"],[1,2583,124,94,"response"],[1,2586,125,12],[1,2589,125,16,"callback"],[1,2591,125,26],[1,2592,126,16],[1,2595,126,20,"error"],[1,2597,128,20],[1,2609,127,20,"callback"],[1,2611,127,29,"error"],[1,2613,127,49],[1,2619,130,16],[1,2622,130,44],[1,2628,130,20,"response"],[1,2630,130,29,"statusCode"],[1,2641,132,20],[1,2653,131,20,"callback"],[1,2655,131,29],[1,2659,131,33,"code_push_error_1"],[1,2661,131,51,"CodePushHttpError"],[1,2679,131,69,"response"],[1,2681,131,78,"statusCode"],[1,2692,131,91],[1,2697,131,98,"response"],[1,2699,131,107,"body"],[1,2705,131,127],[1,2711,134,16,"callback"],[1,2713,134,35],[1,2718,134,54],[1,2728,138,4,"AcquisitionManager"],[1,2730,138,23,"prototype"],[1,2740,138,33,"reportStatusDownload"],[1,2761,138,56],[1,2770,138,66,"downloadedPackage"],[1,2772,138,85,"callback"],[1,2775,139,8],[1,2779,139,12,"url"],[1,2781,139,18,"this"],[1,2786,139,23,"_serverUrl"],[1,2797,139,36,"this"],[1,2802,139,41,"_publicPrefixUrl"],[1,2819,139,60],[1,2844,140,12,"body"],[1,2847,141,12,"client_unique_id"],[1,2864,141,30,"this"],[1,2869,141,35,"_clientUniqueId"],[1,2885,142,12,"deployment_key"],[1,2900,142,28,"this"],[1,2905,142,33,"_deploymentKey"],[1,2920,143,12,"label"],[1,2926,143,19,"downloadedPackage"],[1,2928,143,37,"label"],[1,2935,145,8,"this"],[1,2940,145,13,"_httpRequester"],[1,2955,145,28,"request"],[1,2963,145,36],[1,2965,145,50,"url"],[1,2967,145,55,"JSON"],[1,2972,145,60,"stringify"],[1,2982,145,70,"body"],[1,2985,145,77],[1,2994,145,87,"error"],[1,2996,145,94,"response"],[1,2999,146,12],[1,3002,146,16,"callback"],[1,3004,146,26],[1,3005,147,16],[1,3008,147,20,"error"],[1,3010,149,20],[1,3022,148,20,"callback"],[1,3024,148,29,"error"],[1,3026,148,49],[1,3032,151,16],[1,3035,151,44],[1,3041,151,20,"response"],[1,3043,151,29,"statusCode"],[1,3054,153,20],[1,3066,152,20,"callback"],[1,3068,152,29],[1,3072,152,33,"code_push_error_1"],[1,3074,152,51,"CodePushHttpError"],[1,3092,152,69,"response"],[1,3094,152,78,"statusCode"],[1,3105,152,91],[1,3110,152,98,"response"],[1,3112,152,107,"body"],[1,3118,152,127],[1,3124,155,16,"callback"],[1,3126,155,35],[1,3131,155,54],[1,3141,159,11,"AcquisitionManager"],[1,3144,12,40],[1,3147,162,0],[1,3156,162,9,"queryStringify"],[1,3158,162,24,"object"],[1,3161,163,4],[1,3165,163,8,"queryString"],[1,3167,163,22],[1,3170,164,8,"isFirst"],[1,3173,164,18],[1,3175,165,4],[1,3179,165,9],[1,3183,165,13,"property"],[1,3188,165,25,"object"],[1,3190,166,8],[1,3193,166,12,"object"],[1,3195,166,19,"hasOwnProperty"],[1,3210,166,34,"property"],[1,3213,166,45],[1,3214,167,12],[1,3218,167,16,"value"],[1,3220,167,24,"object"],[1,3222,167,31,"property"],[1,3225,168,26],[1,3232,168,16,"value"],[1,3240,168,51],[1,3244,168,41,"value"],[1,3248,169,21,"isFirst"],[1,3252,170,20,"queryString"],[1,3255,170,35],[1,3260,172,16,"queryString"],[1,3263,172,31,"encodeURIComponent"],[1,3282,172,50,"property"],[1,3285,172,62],[1,3289,173,16,"queryString"],[1,3292,173,31,"encodeURIComponent"],[1,3311,173,50,"value"],[1,3315,175,12,"isFirst"],[1,3318,175,22],[1,3320,178,4],[1,3327,178,11,"queryString"],[1,3329,161,0,"exports"],[1,3331,161,8,"AcquisitionManager"],[1,3350,161,29,"AcquisitionManager"]],"functionMap":{"names":["<global>","<anonymous>","AcquisitionStatus","AcquisitionManager","AcquisitionManager.prototype.queryUpdateWithCurrentPackage","_httpRequester.request$argument_2","AcquisitionManager.prototype.reportStatusDeploy","_httpRequester.request$argument_3","AcquisitionManager.prototype.reportStatusDownload","queryStringify"],"mappings":"AAA;uCCG;ICC;KDC;CDI;wCCE;IEC;KFW;iEGC;6DCc;SD+C;KHC;sDKC;6ECoC;SDY;KLC;wDOC;6EDO;SCY;KPC;CDE;ASE;CTiB"}},"type":"js/module"}]}