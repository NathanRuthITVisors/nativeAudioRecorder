{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"../base","data":{"isAsync":false}},{"name":"../derived","data":{"isAsync":false}},{"name":"../core/InternalAnimatedValue","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var s=r(d[1]),l=r(d[2]),o=t(r(d[3])),n=64;function u(t,u,p){var y=(0,s.cond)(u.time,u.time,t),v=(0,l.min)((0,s.sub)(t,y),n),c=p.damping,h=p.mass,f=p.stiffness,b=(0,s.multiply)(-1,u.velocity),T=(0,s.sub)(p.toValue,u.position),V=(0,s.divide)(c,(0,s.multiply)(2,(0,s.sqrt)((0,s.multiply)(f,h)))),q=(0,s.sqrt)((0,s.divide)(f,h)),P=(0,s.multiply)(q,(0,s.sqrt)((0,s.sub)(1,(0,s.multiply)(V,V)))),_=(0,s.divide)(v,1e3),C=(0,s.sin)((0,s.multiply)(P,_)),D=(0,s.cos)((0,s.multiply)(P,_)),S=(0,s.exp)((0,s.multiply)(-1,V,q,_)),x=(0,s.multiply)(S,(0,s.add)((0,s.multiply)(C,(0,s.divide)((0,s.add)(b,(0,s.multiply)(V,q,T)),P)),(0,s.multiply)(T,D))),j=(0,s.sub)(p.toValue,x),k=(0,s.sub)((0,s.multiply)(V,q,x),(0,s.multiply)(S,(0,s.sub)((0,s.multiply)(D,(0,s.add)(b,(0,s.multiply)(V,q,T))),(0,s.multiply)(P,T,C)))),w=(0,s.exp)((0,s.multiply)(-1,q,_)),M=(0,s.sub)(p.toValue,(0,s.multiply)(w,(0,s.add)(T,(0,s.multiply)((0,s.add)(b,(0,s.multiply)(q,T)),_)))),O=(0,s.multiply)(w,(0,s.add)((0,s.multiply)(b,(0,s.sub)((0,s.multiply)(_,q),1)),(0,s.multiply)(_,T,q,q))),z=u.prevPosition?u.prevPosition:new o.default(0),A=(0,s.cond)((0,s.and)(p.overshootClamping,(0,s.neq)(p.stiffness,0)),(0,s.cond)((0,s.lessThan)(z,p.toValue),(0,s.greaterThan)(u.position,p.toValue),(0,s.lessThan)(u.position,p.toValue))),B=(0,s.lessThan)((0,l.abs)(u.velocity),p.restSpeedThreshold),E=(0,s.or)((0,s.eq)(p.stiffness,0),(0,s.lessThan)((0,l.abs)((0,s.sub)(p.toValue,u.position)),p.restDisplacementThreshold));return(0,s.block)([(0,s.set)(z,u.position),(0,s.cond)((0,s.lessThan)(V,1),[(0,s.set)(u.position,j),(0,s.set)(u.velocity,k)],[(0,s.set)(u.position,M),(0,s.set)(u.velocity,O)]),(0,s.set)(u.time,t),(0,s.cond)((0,s.or)(A,(0,s.and)(B,E)),[(0,s.cond)((0,s.neq)(p.stiffness,0),[(0,s.set)(u.velocity,0),(0,s.set)(u.position,p.toValue)]),(0,s.set)(u.finished,1)])])}var p=(0,s.proc)(function(t,s,l,o,n,p,y,v,c,h,f,b,T){return u(T,{finished:t,velocity:s,position:l,time:o,prevPosition:n},{toValue:p,damping:y,mass:v,stiffness:c,overshootClamping:h,restDisplacementThreshold:b,restSpeedThreshold:f})});e.default=function(t,s,l){var o=s.finished,n=s.velocity,u=s.position,y=s.time,v=s.prevPosition,c=l.toValue,h=l.damping,f=l.mass,b=l.stiffness,T=l.overshootClamping,V=l.restDisplacementThreshold,q=l.restSpeedThreshold;return p(o,n,u,y,v,c,h,f,b,T,q,V,t)}});","lineCount":1,"map":[[1,108,1,0],[1,112,1,0,"_base"],[1,114,1,0,"r"],[1,116,1,0,"d"],[1,118,1,0],[1,122,21,0,"_derived"],[1,124,21,0,"r"],[1,126,21,0,"d"],[1,128,21,0],[1,132,22,0,"_InternalAnimatedValue"],[1,134,22,0,"_interopRequireDefault"],[1,136,22,0,"r"],[1,138,22,0,"d"],[1,140,22,0],[1,145,24,6,"MAX_STEPS_MS"],[1,147,24,21],[1,150,26,0],[1,159,26,9,"spring"],[1,161,26,16,"clock"],[1,163,26,23,"state"],[1,165,26,30,"config"],[1,168,27,2],[1,172,27,8,"lastTime"],[1,175,27,19],[1,177,27,19,"_base"],[1,179,27,19,"cond"],[1,185,27,24,"state"],[1,187,27,30,"time"],[1,192,27,36,"state"],[1,194,27,42,"time"],[1,199,27,48,"clock"],[1,202,29,8,"deltaTime"],[1,205,29,20],[1,207,29,20,"_derived"],[1,209,29,20,"min"],[1,215,29,24],[1,217,29,24,"_base"],[1,219,29,24,"sub"],[1,224,29,28,"clock"],[1,226,29,35,"lastTime"],[1,229,29,46,"MAX_STEPS_MS"],[1,232,31,8,"c"],[1,234,31,12,"config"],[1,236,31,19,"damping"],[1,244,32,8,"m"],[1,246,32,12,"config"],[1,248,32,19,"mass"],[1,253,33,8,"k"],[1,255,33,12,"config"],[1,257,33,19,"stiffness"],[1,267,35,8,"v0"],[1,270,35,13],[1,272,35,13,"_base"],[1,274,35,13,"multiply"],[1,285,35,13],[1,287,35,26,"state"],[1,289,35,32,"velocity"],[1,299,36,8,"x0"],[1,302,36,13],[1,304,36,13,"_base"],[1,306,36,13,"sub"],[1,311,36,17,"config"],[1,313,36,24,"toValue"],[1,321,36,33,"state"],[1,323,36,39,"position"],[1,333,38,8,"zeta"],[1,336,38,15],[1,338,38,15,"_base"],[1,340,38,15,"divide"],[1,348,38,22,"c"],[1,351,38,25],[1,353,38,25,"_base"],[1,355,38,25,"multiply"],[1,365,38,34],[1,368,38,37],[1,370,38,37,"_base"],[1,372,38,37,"sqrt"],[1,379,38,42],[1,381,38,42,"_base"],[1,383,38,42,"multiply"],[1,393,38,51,"k"],[1,395,38,54,"m"],[1,401,39,8,"omega0"],[1,404,39,17],[1,406,39,17,"_base"],[1,408,39,17,"sqrt"],[1,415,39,22],[1,417,39,22,"_base"],[1,419,39,22,"divide"],[1,427,39,29,"k"],[1,429,39,32,"m"],[1,433,40,8,"omega1"],[1,436,40,17],[1,438,40,17,"_base"],[1,440,40,17,"multiply"],[1,450,40,26,"omega0"],[1,453,40,34],[1,455,40,34,"_base"],[1,457,40,34,"sqrt"],[1,464,40,39],[1,466,40,39,"_base"],[1,468,40,39,"sub"],[1,473,40,43],[1,476,40,46],[1,478,40,46,"_base"],[1,480,40,46,"multiply"],[1,490,40,55,"zeta"],[1,492,40,61,"zeta"],[1,498,42,8,"t"],[1,501,42,12],[1,503,42,12,"_base"],[1,505,42,12,"divide"],[1,513,42,19,"deltaTime"],[1,515,42,30],[1,520,44,8,"sin1"],[1,523,44,15],[1,525,44,15,"_base"],[1,527,44,15,"sin"],[1,533,44,19],[1,535,44,19,"_base"],[1,537,44,19,"multiply"],[1,547,44,28,"omega1"],[1,549,44,36,"t"],[1,553,45,8,"cos1"],[1,556,45,15],[1,558,45,15,"_base"],[1,560,45,15,"cos"],[1,566,45,19],[1,568,45,19,"_base"],[1,570,45,19,"multiply"],[1,580,45,28,"omega1"],[1,582,45,36,"t"],[1,586,48,8,"underDampedEnvelope"],[1,589,48,30],[1,591,48,30,"_base"],[1,593,48,30,"exp"],[1,599,48,34],[1,601,48,34,"_base"],[1,603,48,34,"multiply"],[1,614,48,34],[1,616,48,47,"zeta"],[1,618,48,53,"omega0"],[1,620,48,61,"t"],[1,624,49,8,"underDampedFrag1"],[1,627,49,27],[1,629,49,27,"_base"],[1,631,49,27,"multiply"],[1,641,50,4,"underDampedEnvelope"],[1,644,51,4],[1,646,51,4,"_base"],[1,648,51,4,"add"],[1,654,52,6],[1,656,52,6,"_base"],[1,658,52,6,"multiply"],[1,668,52,15,"sin1"],[1,671,52,21],[1,673,52,21,"_base"],[1,675,52,21,"divide"],[1,684,52,28],[1,686,52,28,"_base"],[1,688,52,28,"add"],[1,693,52,32,"v0"],[1,696,52,36],[1,698,52,36,"_base"],[1,700,52,36,"multiply"],[1,710,52,45,"zeta"],[1,712,52,51,"omega0"],[1,714,52,59,"x0"],[1,718,52,65,"omega1"],[1,723,53,6],[1,725,53,6,"_base"],[1,727,53,6,"multiply"],[1,737,53,15,"x0"],[1,739,53,19,"cos1"],[1,744,56,8,"underDampedPosition"],[1,747,56,30],[1,749,56,30,"_base"],[1,751,56,30,"sub"],[1,756,56,34,"config"],[1,758,56,41,"toValue"],[1,766,56,50,"underDampedFrag1"],[1,769,58,8,"underDampedVelocity"],[1,772,58,30],[1,774,58,30,"_base"],[1,776,58,30,"sub"],[1,782,59,4],[1,784,59,4,"_base"],[1,786,59,4,"multiply"],[1,796,59,13,"zeta"],[1,798,59,19,"omega0"],[1,800,59,27,"underDampedFrag1"],[1,804,60,4],[1,806,60,4,"_base"],[1,808,60,4,"multiply"],[1,818,61,6,"underDampedEnvelope"],[1,821,62,6],[1,823,62,6,"_base"],[1,825,62,6,"sub"],[1,831,63,8],[1,833,63,8,"_base"],[1,835,63,8,"multiply"],[1,845,63,17,"cos1"],[1,848,63,23],[1,850,63,23,"_base"],[1,852,63,23,"add"],[1,857,63,27,"v0"],[1,860,63,31],[1,862,63,31,"_base"],[1,864,63,31,"multiply"],[1,874,63,40,"zeta"],[1,876,63,46,"omega0"],[1,878,63,54,"x0"],[1,884,64,8],[1,886,64,8,"_base"],[1,888,64,8,"multiply"],[1,898,64,17,"omega1"],[1,900,64,25,"x0"],[1,902,64,29,"sin1"],[1,908,70,8,"criticallyDampedEnvelope"],[1,911,70,35],[1,913,70,35,"_base"],[1,915,70,35,"exp"],[1,921,70,39],[1,923,70,39,"_base"],[1,925,70,39,"multiply"],[1,936,70,39],[1,938,70,52,"omega0"],[1,940,70,60,"t"],[1,944,71,8,"criticallyDampedPosition"],[1,947,71,35],[1,949,71,35,"_base"],[1,951,71,35,"sub"],[1,956,72,4,"config"],[1,958,72,11,"toValue"],[1,967,73,4],[1,969,73,4,"_base"],[1,971,73,4,"multiply"],[1,981,74,6,"criticallyDampedEnvelope"],[1,984,75,6],[1,986,75,6,"_base"],[1,988,75,6,"add"],[1,993,75,10,"x0"],[1,996,75,14],[1,998,75,14,"_base"],[1,1000,75,14,"multiply"],[1,1011,75,23],[1,1013,75,23,"_base"],[1,1015,75,23,"add"],[1,1020,75,27,"v0"],[1,1023,75,31],[1,1025,75,31,"_base"],[1,1027,75,31,"multiply"],[1,1037,75,40,"omega0"],[1,1039,75,48,"x0"],[1,1043,75,54,"t"],[1,1049,78,8,"criticallyDampedVelocity"],[1,1052,78,35],[1,1054,78,35,"_base"],[1,1056,78,35,"multiply"],[1,1066,79,4,"criticallyDampedEnvelope"],[1,1069,80,4],[1,1071,80,4,"_base"],[1,1073,80,4,"add"],[1,1079,81,6],[1,1081,81,6,"_base"],[1,1083,81,6,"multiply"],[1,1093,81,15,"v0"],[1,1096,81,19],[1,1098,81,19,"_base"],[1,1100,81,19,"sub"],[1,1106,81,23],[1,1108,81,23,"_base"],[1,1110,81,23,"multiply"],[1,1120,81,32,"t"],[1,1122,81,35,"omega0"],[1,1125,81,44],[1,1130,82,6],[1,1132,82,6,"_base"],[1,1134,82,6,"multiply"],[1,1144,82,15,"t"],[1,1146,82,18,"x0"],[1,1148,82,22,"omega0"],[1,1150,82,30,"omega0"],[1,1155,87,8,"prevPosition"],[1,1157,87,23,"state"],[1,1159,87,29,"prevPosition"],[1,1172,88,6,"state"],[1,1174,88,12,"prevPosition"],[1,1187,89,6],[1,1191,89,10,"AnimatedValue"],[1,1193,89,10,"AnimatedValue"],[1,1201,89,24],[1,1204,91,8,"isOvershooting"],[1,1207,91,25],[1,1209,91,25,"_base"],[1,1211,91,25,"cond"],[1,1218,92,4],[1,1220,92,4,"_base"],[1,1222,92,4,"and"],[1,1227,92,8,"config"],[1,1229,92,15,"overshootClamping"],[1,1248,92,34],[1,1250,92,34,"_base"],[1,1252,92,34,"neq"],[1,1257,92,38,"config"],[1,1259,92,45,"stiffness"],[1,1269,92,56],[1,1274,93,4],[1,1276,93,4,"_base"],[1,1278,93,4,"cond"],[1,1285,94,6],[1,1287,94,6,"_base"],[1,1289,94,6,"lessThan"],[1,1299,94,15,"prevPosition"],[1,1301,94,29,"config"],[1,1303,94,36,"toValue"],[1,1313,95,6],[1,1315,95,6,"_base"],[1,1317,95,6,"greaterThan"],[1,1330,95,18,"state"],[1,1332,95,24,"position"],[1,1341,95,34,"config"],[1,1343,95,41,"toValue"],[1,1353,96,6],[1,1355,96,6,"_base"],[1,1357,96,6,"lessThan"],[1,1367,96,15,"state"],[1,1369,96,21,"position"],[1,1378,96,31,"config"],[1,1380,96,38,"toValue"],[1,1391,99,8,"isVelocity"],[1,1394,99,21],[1,1396,99,21,"_base"],[1,1398,99,21,"lessThan"],[1,1409,99,30],[1,1411,99,30,"_derived"],[1,1413,99,30,"abs"],[1,1418,99,34,"state"],[1,1420,99,40,"velocity"],[1,1430,99,51,"config"],[1,1432,99,58,"restSpeedThreshold"],[1,1452,100,8,"isDisplacement"],[1,1455,100,25],[1,1457,100,25,"_base"],[1,1459,100,25,"or"],[1,1464,101,4],[1,1466,101,4,"_base"],[1,1468,101,4,"eq"],[1,1472,101,7,"config"],[1,1474,101,14,"stiffness"],[1,1484,101,25],[1,1488,102,4],[1,1490,102,4,"_base"],[1,1492,102,4,"lessThan"],[1,1503,103,6],[1,1505,103,6,"_derived"],[1,1507,103,6,"abs"],[1,1513,103,10],[1,1515,103,10,"_base"],[1,1517,103,10,"sub"],[1,1522,103,14,"config"],[1,1524,103,21,"toValue"],[1,1532,103,30,"state"],[1,1534,103,36,"position"],[1,1545,104,6,"config"],[1,1547,104,13,"restDisplacementThreshold"],[1,1575,108,2],[1,1582,108,9],[1,1584,108,9,"_base"],[1,1586,108,9,"block"],[1,1595,109,4],[1,1597,109,4,"_base"],[1,1599,109,4,"set"],[1,1604,109,8,"prevPosition"],[1,1606,109,22,"state"],[1,1608,109,28,"position"],[1,1619,110,4],[1,1621,110,4,"_base"],[1,1623,110,4,"cond"],[1,1630,111,6],[1,1632,111,6,"_base"],[1,1634,111,6,"lessThan"],[1,1644,111,15,"zeta"],[1,1646,111,21],[1,1651,113,8],[1,1653,113,8,"_base"],[1,1655,113,8,"set"],[1,1660,113,12,"state"],[1,1662,113,18,"position"],[1,1671,113,28,"underDampedPosition"],[1,1675,114,8],[1,1677,114,8,"_base"],[1,1679,114,8,"set"],[1,1684,114,12,"state"],[1,1686,114,18,"velocity"],[1,1695,114,28,"underDampedVelocity"],[1,1701,117,8],[1,1703,117,8,"_base"],[1,1705,117,8,"set"],[1,1710,117,12,"state"],[1,1712,117,18,"position"],[1,1721,117,28,"criticallyDampedPosition"],[1,1725,118,8],[1,1727,118,8,"_base"],[1,1729,118,8,"set"],[1,1734,118,12,"state"],[1,1736,118,18,"velocity"],[1,1745,118,28,"criticallyDampedVelocity"],[1,1751,121,4],[1,1753,121,4,"_base"],[1,1755,121,4,"set"],[1,1760,121,8,"state"],[1,1762,121,14,"time"],[1,1767,121,20,"clock"],[1,1771,122,4],[1,1773,122,4,"_base"],[1,1775,122,4,"cond"],[1,1782,122,9],[1,1784,122,9,"_base"],[1,1786,122,9,"or"],[1,1790,122,12,"isOvershooting"],[1,1793,122,28],[1,1795,122,28,"_base"],[1,1797,122,28,"and"],[1,1802,122,32,"isVelocity"],[1,1804,122,44,"isDisplacement"],[1,1810,123,6],[1,1812,123,6,"_base"],[1,1814,123,6,"cond"],[1,1821,123,11],[1,1823,123,11,"_base"],[1,1825,123,11,"neq"],[1,1830,123,15,"config"],[1,1832,123,22,"stiffness"],[1,1842,123,33],[1,1847,124,8],[1,1849,124,8,"_base"],[1,1851,124,8,"set"],[1,1856,124,12,"state"],[1,1858,124,18,"velocity"],[1,1867,124,28],[1,1871,125,8],[1,1873,125,8,"_base"],[1,1875,125,8,"set"],[1,1880,125,12,"state"],[1,1882,125,18,"position"],[1,1891,125,28,"config"],[1,1893,125,35,"toValue"],[1,1905,127,6],[1,1907,127,6,"_base"],[1,1909,127,6,"set"],[1,1914,127,10,"state"],[1,1916,127,16,"finished"],[1,1925,127,26],[1,1932,132,0],[1,1936,132,6,"procSpring"],[1,1939,132,19],[1,1941,132,19,"_base"],[1,1943,132,19,"proc"],[1,1949,133,2],[1,1958,134,4,"finished"],[1,1960,135,4,"velocity"],[1,1962,136,4,"position"],[1,1964,137,4,"time"],[1,1966,138,4,"prevPosition"],[1,1968,139,4,"toValue"],[1,1970,140,4,"damping"],[1,1972,141,4,"mass"],[1,1974,142,4,"stiffness"],[1,1976,143,4,"overshootClamping"],[1,1978,144,4,"restSpeedThreshold"],[1,1980,145,4,"restDisplacementThreshold"],[1,1982,146,4,"clock"],[1,1985,133,2],[1,1992,148,4,"spring"],[1,1994,149,6,"clock"],[1,1997,151,8,"finished"],[1,2006,151,8,"finished"],[1,2008,152,8,"velocity"],[1,2017,152,8,"velocity"],[1,2019,153,8,"position"],[1,2028,153,8,"position"],[1,2030,154,8,"time"],[1,2035,154,8,"time"],[1,2037,156,8,"prevPosition"],[1,2050,156,8,"prevPosition"],[1,2054,159,8,"toValue"],[1,2062,159,8,"toValue"],[1,2064,160,8,"damping"],[1,2072,160,8,"damping"],[1,2074,161,8,"mass"],[1,2079,161,8,"mass"],[1,2081,162,8,"stiffness"],[1,2091,162,8,"stiffness"],[1,2093,163,8,"overshootClamping"],[1,2111,163,8,"overshootClamping"],[1,2113,164,8,"restDisplacementThreshold"],[1,2139,164,8,"restDisplacementThreshold"],[1,2141,165,8,"restSpeedThreshold"],[1,2160,165,8,"restSpeedThreshold"],[1,2176,170,15],[1,2185,171,2,"clock"],[1,2187,170,15,"_ref"],[1,2189,170,15,"_ref2"],[1,2192,170,15],[1,2196,173,4,"finished"],[1,2198,170,15,"_ref"],[1,2200,173,4,"finished"],[1,2209,174,4,"velocity"],[1,2211,170,15,"_ref"],[1,2213,174,4,"velocity"],[1,2222,175,4,"position"],[1,2224,170,15,"_ref"],[1,2226,175,4,"position"],[1,2235,176,4,"time"],[1,2237,170,15,"_ref"],[1,2239,176,4,"time"],[1,2244,178,4,"prevPosition"],[1,2246,170,15,"_ref"],[1,2248,178,4,"prevPosition"],[1,2261,181,4,"toValue"],[1,2263,170,15,"_ref2"],[1,2265,181,4,"toValue"],[1,2273,182,4,"damping"],[1,2275,170,15,"_ref2"],[1,2277,182,4,"damping"],[1,2285,183,4,"mass"],[1,2287,170,15,"_ref2"],[1,2289,183,4,"mass"],[1,2294,184,4,"stiffness"],[1,2296,170,15,"_ref2"],[1,2298,184,4,"stiffness"],[1,2308,185,4,"overshootClamping"],[1,2310,170,15,"_ref2"],[1,2312,185,4,"overshootClamping"],[1,2330,186,4,"restDisplacementThreshold"],[1,2332,170,15,"_ref2"],[1,2334,186,4,"restDisplacementThreshold"],[1,2360,187,4,"restSpeedThreshold"],[1,2362,170,15,"_ref2"],[1,2364,187,4,"restSpeedThreshold"],[1,2383,170,15],[1,2390,190,2,"procSpring"],[1,2392,191,4,"finished"],[1,2394,192,4,"velocity"],[1,2396,193,4,"position"],[1,2398,194,4,"time"],[1,2400,195,4,"prevPosition"],[1,2402,196,4,"toValue"],[1,2404,197,4,"damping"],[1,2406,198,4,"mass"],[1,2408,199,4,"stiffness"],[1,2410,200,4,"overshootClamping"],[1,2412,201,4,"restSpeedThreshold"],[1,2414,202,4,"restDisplacementThreshold"],[1,2416,203,4,"clock"]],"functionMap":{"names":["<global>","spring","proc$argument_0","<anonymous>"],"mappings":"AAA;ACyB;CDwG;EEG;KFkC;eGG;GHkC"}},"type":"js/module"}]}