{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"./getChildRouter","data":{"isAsync":false}},{"name":"./routers/getNavigationActionCreators","data":{"isAsync":false}},{"name":"./getChildrenNavigationCache","data":{"isAsync":false}},{"name":"./getEventManager","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _getChildRouter = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./getChildRouter\"));\n\n  var _getNavigationActionCreators = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./routers/getNavigationActionCreators\"));\n\n  var _getChildrenNavigationCache = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./getChildrenNavigationCache\"));\n\n  var _getEventManager2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"./getEventManager\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var createParamGetter = function createParamGetter(route) {\n    return function (paramName, defaultValue) {\n      var params = route.params;\n\n      if (params && paramName in params) {\n        return params[paramName];\n      }\n\n      return defaultValue;\n    };\n  };\n\n  function _getChildNavigation(navigation, childKey, getCurrentParentNavigation) {\n    var children = (0, _getChildrenNavigationCache.default)(navigation);\n    var childRoute = navigation.state.routes.find(function (r) {\n      return r.key === childKey;\n    });\n\n    if (!childRoute) {\n      return null;\n    }\n\n    if (children[childKey] && children[childKey].state === childRoute) {\n      return children[childKey];\n    }\n\n    var childRouter = (0, _getChildRouter.default)(navigation.router, childRoute.routeName);\n    var focusedGrandChildRoute = childRoute.routes && typeof childRoute.index === 'number' ? childRoute.routes[childRoute.index] : null;\n\n    var actionCreators = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, navigation.actions), navigation.router.getActionCreators(childRoute, navigation.state.key)), childRouter ? childRouter.getActionCreators(focusedGrandChildRoute, childRoute.key) : {}), (0, _getNavigationActionCreators.default)(childRoute));\n\n    var actionHelpers = {};\n    Object.keys(actionCreators).forEach(function (actionName) {\n      actionHelpers[actionName] = function () {\n        var actionCreator = actionCreators[actionName];\n        var action = actionCreator.apply(void 0, arguments);\n        return navigation.dispatch(action);\n      };\n    });\n    var _isFirstRouteInParent = true;\n    var parentNavigation = getCurrentParentNavigation();\n\n    if (parentNavigation) {\n      _isFirstRouteInParent = parentNavigation.state.routes.indexOf(childRoute) === 0;\n    }\n\n    if (children[childKey] && children[childKey].isFirstRouteInParent() === _isFirstRouteInParent) {\n      children[childKey] = _objectSpread(_objectSpread(_objectSpread({}, children[childKey]), actionHelpers), {}, {\n        state: childRoute,\n        router: childRouter,\n        actions: actionCreators,\n        getParam: createParamGetter(childRoute)\n      });\n      return children[childKey];\n    } else {\n      var _getEventManager = (0, _getEventManager2.default)(childKey),\n          addListener = _getEventManager.addListener,\n          emit = _getEventManager.emit;\n\n      children[childKey] = _objectSpread(_objectSpread({}, actionHelpers), {}, {\n        state: childRoute,\n        router: childRouter,\n        actions: actionCreators,\n        getParam: createParamGetter(childRoute),\n        getChildNavigation: function getChildNavigation(grandChildKey) {\n          return _getChildNavigation(children[childKey], grandChildKey, function () {\n            var nav = getCurrentParentNavigation();\n            return nav && nav.getChildNavigation(childKey);\n          });\n        },\n        isFocused: function isFocused() {\n          var currentNavigation = getCurrentParentNavigation();\n\n          if (!currentNavigation) {\n            return false;\n          }\n\n          var _currentNavigation$st = currentNavigation.state,\n              routes = _currentNavigation$st.routes,\n              index = _currentNavigation$st.index;\n\n          if (!currentNavigation.isFocused()) {\n            return false;\n          }\n\n          if (routes[index].key === childKey) {\n            return true;\n          }\n\n          return false;\n        },\n        isFirstRouteInParent: function isFirstRouteInParent() {\n          return _isFirstRouteInParent;\n        },\n        dispatch: navigation.dispatch,\n        getScreenProps: navigation.getScreenProps,\n        dangerouslyGetParent: getCurrentParentNavigation,\n        addListener: addListener,\n        emit: emit\n      });\n      return children[childKey];\n    }\n  }\n\n  var _default = _getChildNavigation;\n  exports.default = _default;\n});","lineCount":129,"map":[[11,0,1,0],[13,0,2,0],[15,0,3,0],[17,0,4,0],[23,0,6,0],[23,6,6,6,"createParamGetter"],[23,23,6,23],[23,26,6,26],[23,35,6,6,"createParamGetter"],[23,52,6,26],[23,53,6,26,"route"],[23,58,6,31],[24,0,6,31],[24,11,6,35],[24,21,6,36,"paramName"],[24,30,6,35],[24,32,6,47,"defaultValue"],[24,44,6,35],[24,46,6,64],[25,0,7,2],[25,10,7,8,"params"],[25,16,7,14],[25,19,7,17,"route"],[25,24,7,22],[25,25,7,23,"params"],[25,31,7,2],[27,0,9,2],[27,10,9,6,"params"],[27,16,9,12],[27,20,9,16,"paramName"],[27,29,9,25],[27,33,9,29,"params"],[27,39,9,2],[27,41,9,37],[28,0,10,4],[28,15,10,11,"params"],[28,21,10,17],[28,22,10,18,"paramName"],[28,31,10,17],[28,32,10,4],[29,0,11,3],[31,0,13,2],[31,13,13,9,"defaultValue"],[31,25,13,2],[32,0,14,1],[32,5,6,31],[33,0,6,31],[33,3,6,0],[35,0,16,0],[35,11,16,9,"getChildNavigation"],[35,30,16,0],[35,31,16,28,"navigation"],[35,41,16,0],[35,43,16,40,"childKey"],[35,51,16,0],[35,53,16,50,"getCurrentParentNavigation"],[35,79,16,0],[35,81,16,78],[36,0,17,2],[36,8,17,8,"children"],[36,16,17,16],[36,19,17,19],[36,60,17,46,"navigation"],[36,70,17,19],[36,71,17,2],[37,0,18,2],[37,8,18,8,"childRoute"],[37,18,18,18],[37,21,18,21,"navigation"],[37,31,18,31],[37,32,18,32,"state"],[37,37,18,21],[37,38,18,38,"routes"],[37,44,18,21],[37,45,18,45,"find"],[37,49,18,21],[37,50,18,50],[37,60,18,50,"r"],[37,61,18,51],[38,0,18,51],[38,13,18,55,"r"],[38,14,18,56],[38,15,18,57,"key"],[38,18,18,55],[38,23,18,65,"childKey"],[38,31,18,51],[39,0,18,51],[39,5,18,21],[39,6,18,2],[41,0,20,2],[41,8,20,6],[41,9,20,7,"childRoute"],[41,19,20,2],[41,21,20,19],[42,0,21,4],[42,13,21,11],[42,17,21,4],[43,0,22,3],[45,0,24,2],[45,8,24,6,"children"],[45,16,24,14],[45,17,24,15,"childKey"],[45,25,24,14],[45,26,24,6],[45,30,24,28,"children"],[45,38,24,36],[45,39,24,37,"childKey"],[45,47,24,36],[45,48,24,28],[45,49,24,47,"state"],[45,54,24,28],[45,59,24,57,"childRoute"],[45,69,24,2],[45,71,24,69],[46,0,25,4],[46,13,25,11,"children"],[46,21,25,19],[46,22,25,20,"childKey"],[46,30,25,19],[46,31,25,4],[47,0,26,3],[49,0,28,2],[49,8,28,8,"childRouter"],[49,19,28,19],[49,22,28,22],[49,51,28,37,"navigation"],[49,61,28,47],[49,62,28,48,"router"],[49,68,28,22],[49,70,28,56,"childRoute"],[49,80,28,66],[49,81,28,67,"routeName"],[49,90,28,22],[49,91,28,2],[50,0,34,2],[50,8,34,8,"focusedGrandChildRoute"],[50,30,34,30],[50,33,34,33,"childRoute"],[50,43,34,43],[50,44,34,44,"routes"],[50,50,34,33],[50,54,34,54],[50,61,34,61,"childRoute"],[50,71,34,71],[50,72,34,72,"index"],[50,77,34,54],[50,82,34,82],[50,90,34,33],[50,93,34,93,"childRoute"],[50,103,34,103],[50,104,34,104,"routes"],[50,110,34,93],[50,111,34,111,"childRoute"],[50,121,34,121],[50,122,34,122,"index"],[50,127,34,93],[50,128,34,33],[50,131,34,131],[50,135,34,2],[52,0,35,2],[52,8,35,8,"actionCreators"],[52,22,35,22],[52,85,35,30,"navigation"],[52,95,35,40],[52,96,35,41,"actions"],[52,103,35,22],[52,106,36,7,"navigation"],[52,116,36,17],[52,117,36,18,"router"],[52,123,36,7],[52,124,36,25,"getActionCreators"],[52,141,36,7],[52,142,36,43,"childRoute"],[52,152,36,7],[52,154,36,55,"navigation"],[52,164,36,65],[52,165,36,66,"state"],[52,170,36,55],[52,171,36,72,"key"],[52,174,36,7],[52,175,35,22],[52,178,37,8,"childRouter"],[52,189,37,19],[52,192,37,22,"childRouter"],[52,203,37,33],[52,204,37,34,"getActionCreators"],[52,221,37,22],[52,222,37,52,"focusedGrandChildRoute"],[52,244,37,22],[52,246,37,76,"childRoute"],[52,256,37,86],[52,257,37,87,"key"],[52,260,37,22],[52,261,37,19],[52,264,37,94],[52,266,35,22],[52,269,38,7],[52,311,38,35,"childRoute"],[52,321,38,7],[52,322,35,22],[52,323,35,2],[54,0,40,2],[54,8,40,8,"actionHelpers"],[54,21,40,21],[54,24,40,24],[54,26,40,2],[55,0,41,2,"Object"],[55,4,41,2,"Object"],[55,10,41,8],[55,11,41,9,"keys"],[55,15,41,2],[55,16,41,14,"actionCreators"],[55,30,41,2],[55,32,41,30,"forEach"],[55,39,41,2],[55,40,41,38],[55,50,41,38,"actionName"],[55,60,41,48],[55,62,41,52],[56,0,42,4,"actionHelpers"],[56,6,42,4,"actionHelpers"],[56,19,42,17],[56,20,42,18,"actionName"],[56,30,42,17],[56,31,42,4],[56,34,42,32],[56,46,42,45],[57,0,43,6],[57,12,43,12,"actionCreator"],[57,25,43,25],[57,28,43,28,"actionCreators"],[57,42,43,42],[57,43,43,43,"actionName"],[57,53,43,42],[57,54,43,6],[58,0,44,6],[58,12,44,12,"action"],[58,18,44,18],[58,21,44,21,"actionCreator"],[58,34,44,34],[58,40,44,21],[58,59,44,6],[59,0,45,6],[59,15,45,13,"navigation"],[59,25,45,23],[59,26,45,24,"dispatch"],[59,34,45,13],[59,35,45,33,"action"],[59,41,45,13],[59,42,45,6],[60,0,46,5],[60,7,42,4],[61,0,47,3],[61,5,41,2],[62,0,48,2],[62,8,48,6,"isFirstRouteInParent"],[62,29,48,26],[62,32,48,29],[62,36,48,2],[63,0,49,2],[63,8,49,8,"parentNavigation"],[63,24,49,24],[63,27,49,27,"getCurrentParentNavigation"],[63,53,49,53],[63,55,49,2],[65,0,51,2],[65,8,51,6,"parentNavigation"],[65,24,51,2],[65,26,51,24],[66,0,52,4,"isFirstRouteInParent"],[66,6,52,4,"isFirstRouteInParent"],[66,27,52,24],[66,30,52,27,"parentNavigation"],[66,46,52,43],[66,47,52,44,"state"],[66,52,52,27],[66,53,52,50,"routes"],[66,59,52,27],[66,60,52,57,"indexOf"],[66,67,52,27],[66,68,52,65,"childRoute"],[66,78,52,27],[66,84,52,81],[66,85,52,4],[67,0,53,3],[69,0,55,2],[69,8,55,6,"children"],[69,16,55,14],[69,17,55,15,"childKey"],[69,25,55,14],[69,26,55,6],[69,30,55,28,"children"],[69,38,55,36],[69,39,55,37,"childKey"],[69,47,55,36],[69,48,55,28],[69,49,55,47,"isFirstRouteInParent"],[69,69,55,28],[69,76,55,74,"isFirstRouteInParent"],[69,97,55,2],[69,99,55,96],[70,0,56,4,"children"],[70,6,56,4,"children"],[70,14,56,12],[70,15,56,13,"childKey"],[70,23,56,12],[70,24,56,4],[70,73,56,30,"children"],[70,81,56,38],[70,82,56,39,"childKey"],[70,90,56,38],[70,91,56,4],[70,94,57,9,"actionHelpers"],[70,107,56,4],[71,0,58,6,"state"],[71,8,58,6,"state"],[71,13,58,11],[71,15,58,13,"childRoute"],[71,25,56,4],[72,0,59,6,"router"],[72,8,59,6,"router"],[72,14,59,12],[72,16,59,14,"childRouter"],[72,27,56,4],[73,0,60,6,"actions"],[73,8,60,6,"actions"],[73,15,60,13],[73,17,60,15,"actionCreators"],[73,31,56,4],[74,0,61,6,"getParam"],[74,8,61,6,"getParam"],[74,16,61,14],[74,18,61,16,"createParamGetter"],[74,35,61,33],[74,36,61,34,"childRoute"],[74,46,61,33],[75,0,56,4],[76,0,63,4],[76,13,63,11,"children"],[76,21,63,19],[76,22,63,20,"childKey"],[76,30,63,19],[76,31,63,4],[77,0,64,3],[77,5,55,2],[77,11,64,9],[78,0,64,9],[78,29,68,8],[78,60,68,24,"childKey"],[78,68,68,8],[78,69,64,9],[79,0,64,9],[79,10,66,6,"addListener"],[79,21,64,9],[79,41,66,6,"addListener"],[79,52,64,9],[80,0,64,9],[80,10,67,6,"emit"],[80,14,64,9],[80,34,67,6,"emit"],[80,38,64,9],[82,0,69,4,"children"],[82,6,69,4,"children"],[82,14,69,12],[82,15,69,13,"childKey"],[82,23,69,12],[82,24,69,4],[82,59,69,30,"actionHelpers"],[82,72,69,4],[83,0,70,6,"state"],[83,8,70,6,"state"],[83,13,70,11],[83,15,70,13,"childRoute"],[83,25,69,4],[84,0,71,6,"router"],[84,8,71,6,"router"],[84,14,71,12],[84,16,71,14,"childRouter"],[84,27,69,4],[85,0,72,6,"actions"],[85,8,72,6,"actions"],[85,15,72,13],[85,17,72,15,"actionCreators"],[85,31,69,4],[86,0,73,6,"getParam"],[86,8,73,6,"getParam"],[86,16,73,14],[86,18,73,16,"createParamGetter"],[86,35,73,33],[86,36,73,34,"childRoute"],[86,46,73,33],[86,47,69,4],[87,0,74,6,"getChildNavigation"],[87,8,74,6,"getChildNavigation"],[87,26,74,24],[87,28,74,26],[87,56,74,26,"grandChildKey"],[87,69,74,39],[88,0,74,39],[88,17,74,43,"getChildNavigation"],[88,36,74,61],[88,37,74,62,"children"],[88,45,74,70],[88,46,74,71,"childKey"],[88,54,74,70],[88,55,74,61],[88,57,74,82,"grandChildKey"],[88,70,74,61],[88,72,74,97],[88,84,74,103],[89,0,75,8],[89,16,75,14,"nav"],[89,19,75,17],[89,22,75,20,"getCurrentParentNavigation"],[89,48,75,46],[89,50,75,8],[90,0,76,8],[90,19,76,15,"nav"],[90,22,76,18],[90,26,76,22,"nav"],[90,29,76,25],[90,30,76,26,"getChildNavigation"],[90,48,76,22],[90,49,76,45,"childKey"],[90,57,76,22],[90,58,76,8],[91,0,77,7],[91,11,74,61],[91,12,74,39],[92,0,74,39],[92,9,69,4],[93,0,78,6,"isFocused"],[93,8,78,6,"isFocused"],[93,17,78,15],[93,19,78,17],[93,40,78,23],[94,0,79,8],[94,14,79,14,"currentNavigation"],[94,31,79,31],[94,34,79,34,"getCurrentParentNavigation"],[94,60,79,60],[94,62,79,8],[96,0,81,8],[96,14,81,12],[96,15,81,13,"currentNavigation"],[96,32,81,8],[96,34,81,32],[97,0,82,10],[97,19,82,17],[97,24,82,10],[98,0,83,9],[100,0,78,23],[100,38,88,12,"currentNavigation"],[100,55,88,29],[100,56,88,30,"state"],[100,61,78,23],[101,0,78,23],[101,14,86,10,"routes"],[101,20,78,23],[101,45,86,10,"routes"],[101,51,78,23],[102,0,78,23],[102,14,87,10,"index"],[102,19,78,23],[102,44,87,10,"index"],[102,49,78,23],[104,0,90,8],[104,14,90,12],[104,15,90,13,"currentNavigation"],[104,32,90,30],[104,33,90,31,"isFocused"],[104,42,90,13],[104,44,90,8],[104,46,90,44],[105,0,91,10],[105,19,91,17],[105,24,91,10],[106,0,92,9],[108,0,94,8],[108,14,94,12,"routes"],[108,20,94,18],[108,21,94,19,"index"],[108,26,94,18],[108,27,94,12],[108,28,94,26,"key"],[108,31,94,12],[108,36,94,34,"childKey"],[108,44,94,8],[108,46,94,44],[109,0,95,10],[109,19,95,17],[109,23,95,10],[110,0,96,9],[112,0,98,8],[112,17,98,15],[112,22,98,8],[113,0,99,7],[113,9,69,4],[114,0,100,6,"isFirstRouteInParent"],[114,8,100,6,"isFirstRouteInParent"],[114,28,100,26],[114,30,100,28],[115,0,100,28],[115,17,100,34,"isFirstRouteInParent"],[115,38,100,28],[116,0,100,28],[116,9,69,4],[117,0,101,6,"dispatch"],[117,8,101,6,"dispatch"],[117,16,101,14],[117,18,101,16,"navigation"],[117,28,101,26],[117,29,101,27,"dispatch"],[117,37,69,4],[118,0,102,6,"getScreenProps"],[118,8,102,6,"getScreenProps"],[118,22,102,20],[118,24,102,22,"navigation"],[118,34,102,32],[118,35,102,33,"getScreenProps"],[118,49,69,4],[119,0,103,6,"dangerouslyGetParent"],[119,8,103,6,"dangerouslyGetParent"],[119,28,103,26],[119,30,103,28,"getCurrentParentNavigation"],[119,56,69,4],[120,0,104,6,"addListener"],[120,8,104,6,"addListener"],[120,19,104,17],[120,21,104,6,"addListener"],[120,32,69,4],[121,0,105,6,"emit"],[121,8,105,6,"emit"],[121,12,105,10],[121,14,105,6,"emit"],[122,0,69,4],[123,0,107,4],[123,13,107,11,"children"],[123,21,107,19],[123,22,107,20,"childKey"],[123,30,107,19],[123,31,107,4],[124,0,108,3],[125,0,109,1],[127,17,111,15,"getChildNavigation"],[127,36]],"functionMap":{"names":["<global>","createParamGetter","<anonymous>","getChildNavigation","navigation.state.routes.find$argument_0","Object.keys.forEach$argument_0","actionHelpers.actionName","children.childKey.getChildNavigation","getChildNavigation$argument_2","children.childKey.isFocused","children.childKey.isFirstRouteInParent"],"mappings":"AAA;0BCK,SC;CFQ;AGE;kDCE,uBD;sCEuB;gCCC;KDI;GFC;0BI2B,uEC;ODG,CJ;iBMC;ONqB;4BOC,0BP;CHS"}},"type":"js/module"}]}