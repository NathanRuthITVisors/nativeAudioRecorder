{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"isAsync":false}},{"name":"./9d5e13b5.js","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"./4fe0de4d.js","data":{"isAsync":false}},{"name":"./ff79b2fd.js","data":{"isAsync":false}},{"name":"./9a7dfb1a.js","data":{"isAsync":false}},{"name":"big.js","data":{"isAsync":false}},{"name":"./5a637815.js","data":{"isAsync":false}},{"name":"./27671983.js","data":{"isAsync":false}},{"name":"./86891176.js","data":{"isAsync":false}},{"name":"./a8e2e490.js","data":{"isAsync":false}},{"name":"./44c8ff49.js","data":{"isAsync":false}},{"name":"./59967515.js","data":{"isAsync":false}},{"name":"./8c714812.js","data":{"isAsync":false}},{"name":"./8897ddfe.js","data":{"isAsync":false}},{"name":"./fa3101a4.js","data":{"isAsync":false}},{"name":"./c44cb7ea.js","data":{"isAsync":false}},{"name":"./0e21499a.js","data":{"isAsync":false}},{"name":"./d46da013.js","data":{"isAsync":false}},{"name":"./ab41be10.js","data":{"isAsync":false}},{"name":"./9a63ba11.js","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.computeAction = computeAction;\n  exports.ActionProperty = void 0;\n\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n\n  var _d5e13b = _$$_REQUIRE(_dependencyMap[2], \"./9d5e13b5.js\");\n\n  _$$_REQUIRE(_dependencyMap[3], \"react\");\n\n  var _fe0de4d = _$$_REQUIRE(_dependencyMap[4], \"./4fe0de4d.js\");\n\n  _$$_REQUIRE(_dependencyMap[5], \"./ff79b2fd.js\");\n\n  var _a7dfb1a = _$$_REQUIRE(_dependencyMap[6], \"./9a7dfb1a.js\");\n\n  _$$_REQUIRE(_dependencyMap[7], \"big.js\");\n\n  _$$_REQUIRE(_dependencyMap[8], \"./5a637815.js\");\n\n  _$$_REQUIRE(_dependencyMap[9], \"./27671983.js\");\n\n  var _2 = _$$_REQUIRE(_dependencyMap[10], \"./86891176.js\");\n\n  _$$_REQUIRE(_dependencyMap[11], \"./a8e2e490.js\");\n\n  _$$_REQUIRE(_dependencyMap[12], \"./44c8ff49.js\");\n\n  _$$_REQUIRE(_dependencyMap[13], \"./59967515.js\");\n\n  var _c = _$$_REQUIRE(_dependencyMap[14], \"./8c714812.js\");\n\n  _$$_REQUIRE(_dependencyMap[15], \"./8897ddfe.js\");\n\n  _$$_REQUIRE(_dependencyMap[16], \"./fa3101a4.js\");\n\n  _$$_REQUIRE(_dependencyMap[17], \"./c44cb7ea.js\");\n\n  var _e21499a = _$$_REQUIRE(_dependencyMap[18], \"./0e21499a.js\");\n\n  _$$_REQUIRE(_dependencyMap[19], \"./d46da013.js\");\n\n  var _ab41be = _$$_REQUIRE(_dependencyMap[20], \"./ab41be10.js\");\n\n  var _a63ba = _$$_REQUIRE(_dependencyMap[21], \"./9a63ba11.js\");\n\n  var ActionProperty = (0, _a7dfb1a.c)(function (config, store, widgetId) {\n    return computeAction(config, store, widgetId);\n  });\n  exports.ActionProperty = ActionProperty;\n\n  function computeAction(config, store, widgetId, predefinedArguments) {\n    var _useValue = (0, _d5e13b.u)(\"Actions in progress for \" + widgetId, 0),\n        _useValue2 = (0, _slicedToArray2.default)(_useValue, 2),\n        actionsInProgress$ = _useValue2[0],\n        setActionsInProgress = _useValue2[1],\n        isExecuting$ = (0, _d5e13b.n)(\"Action is executing for \" + widgetId, function () {\n      return actionsInProgress$.dependOn() > 0;\n    }),\n        _store$useSlot = store.useSlot(widgetId, \"isInvalid\"),\n        _store$useSlot2 = (0, _slicedToArray2.default)(_store$useSlot, 1),\n        isInvalid$ = _store$useSlot2[0],\n        _store$useSlot3 = store.useSlot(_ab41be.p, \"form\"),\n        _store$useSlot4 = (0, _slicedToArray2.default)(_store$useSlot3, 1),\n        currentForm$ = _store$useSlot4[0],\n        allowed = mx.session.hasSomeRole(config.action.config.allowedRoles) || mx.session.isGuest(),\n        actionParameters$ = (0, _e21499a.a)(config.action.argMap, store, predefinedArguments),\n        canExecute$ = (0, _d5e13b.n)(\"Action for \" + widgetId + \" can execute\", function () {\n      return allowed && Object.values(actionParameters$.dependOn()).every(function (p) {\n        return \"available\" === p.status;\n      });\n    }),\n        disabledDuringExecution = config.action.disabledDuringExecution;\n\n    return (0, _d5e13b.n)(\"Action value for \" + widgetId, function () {\n      return {\n        canExecute: canExecute$.dependOn(),\n        isExecuting: isExecuting$.dependOn(),\n        disabledDuringExecution: disabledDuringExecution,\n        execute: (0, _d5e13b.b)(execute)\n      };\n    });\n\n    function execute() {\n      if (!(0, _d5e13b.z)(canExecute$) || disabledDuringExecution && (0, _d5e13b.z)(isExecuting$)) return void mx.logger.debug(\"Widget is attempting to execute a \" + config.action.type + \" action which is not executable.\");\n      var parameters = (0, _fe0de4d.m)((0, _d5e13b.z)(actionParameters$), _d5e13b.B),\n          isInvalid = (0, _d5e13b.z)(isInvalid$),\n          currentForm = (0, _fe0de4d.e)((0, _d5e13b.z)(currentForm$))[0];\n      setActionsInProgress((0, _d5e13b.z)(actionsInProgress$) + 1), (0, _a63ba.e)(config.action, {\n        abortOnClientValidations: !0,\n        abortOnServerValidations: config.abortOnServerValidation,\n        widgetIsValid: !isInvalid,\n        currentForm: currentForm\n      }, parameters, (0, _d5e13b.b)(function () {\n        setActionsInProgress((0, _d5e13b.z)(actionsInProgress$) - 1);\n      }), (0, _d5e13b.b)(function (e) {\n        setActionsInProgress((0, _d5e13b.z)(actionsInProgress$) - 1), e instanceof _2.D ? mx.onError(e) : e instanceof _c.V || mx.onError(new Error(\"An error occurred while executing an action of \" + (0, _fe0de4d.r)(widgetId) + \": \" + e.message));\n      }));\n    }\n  }\n});","lineCount":106,"map":[[12,0,1,0],[14,0,1,111],[16,0,1,125],[18,0,1,197],[20,0,1,219],[22,0,1,262],[24,0,1,277],[26,0,1,299],[28,0,1,321],[30,0,1,368],[32,0,1,390],[34,0,1,412],[36,0,1,434],[38,0,1,482],[40,0,1,504],[42,0,1,526],[44,0,1,548],[46,0,1,600],[48,0,1,622],[50,0,1,664],[52,0,1,710],[52,6,1,716,"ActionProperty"],[52,20,1,730],[52,23,1,731],[52,39,1,742],[52,49,1,743,"config"],[52,55,1,742],[52,57,1,750,"store"],[52,62,1,742],[52,64,1,756,"widgetId"],[52,72,1,742],[53,0,1,742],[53,11,1,767,"computeAction"],[53,24,1,780],[53,25,1,781,"config"],[53,31,1,780],[53,33,1,788,"store"],[53,38,1,780],[53,40,1,794,"widgetId"],[53,48,1,780],[53,49,1,742],[54,0,1,742],[54,3,1,731],[54,4,1,710],[57,0,1,805],[57,11,1,814,"computeAction"],[57,24,1,805],[57,25,1,828,"config"],[57,31,1,805],[57,33,1,835,"store"],[57,38,1,805],[57,40,1,841,"widgetId"],[57,48,1,805],[57,50,1,850,"predefinedArguments"],[57,69,1,805],[57,71,1,870],[58,0,1,870],[58,20,1,918],[58,35,1,927],[58,64,1,954,"widgetId"],[58,72,1,918],[58,74,1,963],[58,75,1,918],[58,76,1,870],[59,0,1,870],[60,0,1,870],[60,8,1,877,"actionsInProgress$"],[60,26,1,870],[61,0,1,870],[61,8,1,896,"setActionsInProgress"],[61,28,1,870],[62,0,1,870],[62,8,1,966,"isExecuting$"],[62,20,1,870],[62,23,1,979],[62,38,1,996],[62,67,1,1023,"widgetId"],[62,75,1,979],[62,77,1,1032],[63,0,1,1032],[63,13,1,1036,"actionsInProgress$"],[63,31,1,1054],[63,32,1,1055,"dependOn"],[63,40,1,1036],[63,45,1,1066],[63,46,1,1032],[64,0,1,1032],[64,5,1,979],[64,6,1,870],[65,0,1,870],[65,25,1,1082,"store"],[65,30,1,1087],[65,31,1,1088,"useSlot"],[65,38,1,1082],[65,39,1,1096,"widgetId"],[65,47,1,1082],[65,49,1,1105],[65,60,1,1082],[65,61,1,870],[66,0,1,870],[67,0,1,870],[67,8,1,1070,"isInvalid$"],[67,18,1,870],[68,0,1,870],[68,26,1,1133,"store"],[68,31,1,1138],[68,32,1,1139,"useSlot"],[68,39,1,1133],[68,40,1,1147,"pageScope"],[68,49,1,1133],[68,51,1,1157],[68,57,1,1133],[68,58,1,870],[69,0,1,870],[70,0,1,870],[70,8,1,1119,"currentForm$"],[70,20,1,870],[71,0,1,870],[71,8,1,1165,"allowed"],[71,15,1,870],[71,18,1,1173,"mx"],[71,20,1,1175],[71,21,1,1176,"session"],[71,28,1,1173],[71,29,1,1184,"hasSomeRole"],[71,40,1,1173],[71,41,1,1196,"config"],[71,47,1,1202],[71,48,1,1203,"action"],[71,54,1,1196],[71,55,1,1210,"config"],[71,61,1,1196],[71,62,1,1217,"allowedRoles"],[71,74,1,1173],[71,79,1,1232,"mx"],[71,81,1,1234],[71,82,1,1235,"session"],[71,89,1,1232],[71,90,1,1243,"isGuest"],[71,97,1,1232],[71,99,1,870],[72,0,1,870],[72,8,1,1253,"actionParameters$"],[72,25,1,870],[72,28,1,1271],[72,44,1,1291,"config"],[72,50,1,1297],[72,51,1,1298,"action"],[72,57,1,1291],[72,58,1,1305,"argMap"],[72,64,1,1271],[72,66,1,1312,"store"],[72,71,1,1271],[72,73,1,1318,"predefinedArguments"],[72,92,1,1271],[72,93,1,870],[73,0,1,870],[73,8,1,1339,"canExecute$"],[73,19,1,870],[73,22,1,1351],[73,53,1,1382,"widgetId"],[73,61,1,1351],[73,80,1,1405],[74,0,1,1405],[74,13,1,1409,"allowed"],[74,20,1,1416],[74,24,1,1418,"Object"],[74,30,1,1424],[74,31,1,1425,"values"],[74,37,1,1418],[74,38,1,1432,"actionParameters$"],[74,55,1,1449],[74,56,1,1450,"dependOn"],[74,64,1,1432],[74,66,1,1418],[74,68,1,1462,"every"],[74,73,1,1418],[74,74,1,1468],[74,84,1,1468,"p"],[74,85,1,1469],[75,0,1,1469],[75,15,1,1471],[75,31,1,1485,"p"],[75,32,1,1486],[75,33,1,1487,"status"],[75,39,1,1469],[76,0,1,1469],[76,7,1,1418],[76,8,1,1405],[77,0,1,1405],[77,5,1,1351],[77,6,1,870],[78,0,1,870],[78,8,1,1496,"disabledDuringExecution"],[78,31,1,870],[78,34,1,1520,"config"],[78,40,1,1526],[78,41,1,1527,"action"],[78,47,1,1520],[78,48,1,1534,"disabledDuringExecution"],[78,71,1,870],[80,0,1,1558],[80,11,1,1565],[80,26,1,1582],[80,48,1,1602,"widgetId"],[80,56,1,1565],[80,58,1,1611],[81,0,1,1611],[81,13,1,1616],[82,0,1,1617,"canExecute"],[82,8,1,1617,"canExecute"],[82,18,1,1627],[82,20,1,1628,"canExecute$"],[82,31,1,1639],[82,32,1,1640,"dependOn"],[82,40,1,1628],[82,42,1,1616],[83,0,1,1651,"isExecuting"],[83,8,1,1651,"isExecuting"],[83,19,1,1662],[83,21,1,1663,"isExecuting$"],[83,33,1,1675],[83,34,1,1676,"dependOn"],[83,42,1,1663],[83,44,1,1616],[84,0,1,1687,"disabledDuringExecution"],[84,8,1,1687,"disabledDuringExecution"],[84,31,1,1710],[84,33,1,1711,"disabledDuringExecution"],[84,56,1,1616],[85,0,1,1735,"execute"],[85,8,1,1735,"execute"],[85,15,1,1742],[85,17,1,1743],[85,32,1,1750,"execute"],[85,39,1,1743],[86,0,1,1616],[86,7,1,1611],[87,0,1,1611],[87,5,1,1565],[87,6,1,1558],[89,0,1,1762],[89,13,1,1771,"execute"],[89,20,1,1762],[89,23,1,1780],[90,0,1,1781],[90,10,1,1784],[90,11,1,1785],[90,26,1,1799,"canExecute$"],[90,37,1,1785],[90,38,1,1784],[90,42,1,1813,"disabledDuringExecution"],[90,65,1,1836],[90,69,1,1838],[90,84,1,1852,"isExecuting$"],[90,96,1,1838],[90,97,1,1781],[90,99,1,1866],[90,106,1,1873],[90,111,1,1878,"mx"],[90,113,1,1880],[90,114,1,1881,"logger"],[90,120,1,1878],[90,121,1,1888,"debug"],[90,126,1,1878],[90,166,1,1931,"config"],[90,172,1,1937],[90,173,1,1938,"action"],[90,179,1,1931],[90,180,1,1945,"type"],[90,184,1,1878],[90,222,1,1866],[91,0,1,1985],[91,10,1,1991,"parameters"],[91,20,1,2001],[91,23,1,2002],[91,39,1,2012],[91,54,1,2026,"actionParameters$"],[91,71,1,2012],[91,72,1,2002],[91,74,1,2045,"getOrCrashL"],[91,83,1,2002],[91,84,1,1985],[92,0,1,1985],[92,10,1,2058,"isInvalid"],[92,19,1,2067],[92,22,1,2068],[92,37,1,2082,"isInvalid$"],[92,47,1,2068],[92,48,1,1985],[93,0,1,1985],[93,10,1,2094,"currentForm"],[93,21,1,2105],[93,24,1,2106],[93,40,1,2113],[93,55,1,2127,"currentForm$"],[93,67,1,2113],[93,68,1,2106],[93,70,1,2142],[93,71,1,2106],[93,72,1,1985],[94,0,1,2145,"setActionsInProgress"],[94,6,1,2145,"setActionsInProgress"],[94,26,1,2165],[94,27,1,2166],[94,42,1,2180,"actionsInProgress$"],[94,60,1,2166],[94,64,1,2200],[94,65,1,2165],[94,66,1,2145],[94,68,1,2203],[94,82,1,2217,"config"],[94,88,1,2223],[94,89,1,2224,"action"],[94,95,1,2203],[94,97,1,2231],[95,0,1,2232,"abortOnClientValidations"],[95,8,1,2232,"abortOnClientValidations"],[95,32,1,2256],[95,34,1,2257],[95,35,1,2258],[95,36,1,2231],[96,0,1,2260,"abortOnServerValidations"],[96,8,1,2260,"abortOnServerValidations"],[96,32,1,2284],[96,34,1,2285,"config"],[96,40,1,2291],[96,41,1,2292,"abortOnServerValidation"],[96,64,1,2231],[97,0,1,2316,"widgetIsValid"],[97,8,1,2316,"widgetIsValid"],[97,21,1,2329],[97,23,1,2330],[97,24,1,2331,"isInvalid"],[97,33,1,2231],[98,0,1,2341,"currentForm"],[98,8,1,2341,"currentForm"],[98,19,1,2352],[98,21,1,2353,"currentForm"],[99,0,1,2231],[99,7,1,2203],[99,9,1,2366,"parameters"],[99,19,1,2203],[99,21,1,2377],[99,36,1,2384],[99,48,1,2388],[100,0,1,2389,"setActionsInProgress"],[100,8,1,2389,"setActionsInProgress"],[100,28,1,2409],[100,29,1,2410],[100,44,1,2424,"actionsInProgress$"],[100,62,1,2410],[100,66,1,2444],[100,67,1,2409],[100,68,1,2389],[101,0,1,2447],[101,7,1,2377],[101,8,1,2203],[101,10,1,2449],[101,25,1,2456],[101,35,1,2456,"e"],[101,36,1,2457],[101,38,1,2459],[102,0,1,2460,"setActionsInProgress"],[102,8,1,2460,"setActionsInProgress"],[102,28,1,2480],[102,29,1,2481],[102,44,1,2495,"actionsInProgress$"],[102,62,1,2481],[102,66,1,2515],[102,67,1,2480],[102,68,1,2460],[102,70,1,2518,"e"],[102,71,1,2519],[102,83,1,2531,"DescribedError"],[102,87,1,2518],[102,90,1,2546,"mx"],[102,92,1,2548],[102,93,1,2549,"onError"],[102,100,1,2546],[102,101,1,2557,"e"],[102,102,1,2546],[102,103,1,2518],[102,106,1,2560,"e"],[102,107,1,2561],[102,119,1,2573,"ValidationError"],[102,123,1,2560],[102,127,1,2590,"mx"],[102,129,1,2592],[102,130,1,2593,"onError"],[102,137,1,2590],[102,138,1,2601],[102,142,1,2605,"Error"],[102,147,1,2601],[102,200,1,2661],[102,216,1,2674,"widgetId"],[102,224,1,2661],[102,225,1,2601],[102,235,1,2688,"e"],[102,236,1,2689],[102,237,1,2690,"message"],[102,244,1,2601],[102,245,1,2590],[102,246,1,2460],[103,0,1,2702],[103,7,1,2449],[103,8,1,2203],[103,9,1,2145],[104,0,1,2705],[105,0,1,2706]],"functionMap":{"names":["<global>","asProperty$argument_0","computeAction","fromComputation$$argument_1","Object.values.every$argument_0","execute","action$argument_0"],"mappings":"AAA,suBC,6DD,EE,mOC,mCD,kVC,+DC,yBD,CD,qHC,qJD,EG,8mBC,+DD,SC,sPD,GH,CF"}},"type":"js/module"}]}